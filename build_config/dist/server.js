(()=>{var e={237:()=>{},497:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(a,r){function o(e){try{u(i.next(e))}catch(e){r(e)}}function s(e){try{u(i.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(689));n(237);const u={total_hits:0,items:[]};function l({totalItems:e=0,onNavigate:t,currentPage:n}){return s.default.createElement("div",{style:{display:"flex",justifyContent:"space-around",marginTop:8}},s.default.createElement("button",{disabled:1===n,onClick:()=>{t(-1)}},"Previous"),s.default.createElement("p",null,e," items found"),s.default.createElement("button",{disabled:0===e,onClick:()=>{t(1)}},"Next"))}function c({items:e}){return s.default.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},null==e?void 0:e.map((e=>s.default.createElement("div",{style:{width:250,margin:8}},s.default.createElement("img",{src:e.thumbnail_href,alt:e.title,height:225,width:250}),s.default.createElement("p",null,e.title),s.default.createElement("p",{className:"description"},e.description)))))}t.default=function(){const[e,t]=s.useState(""),[n,i]=s.useState(1),[a,r]=s.useState(u);return s.useEffect((()=>{(()=>{o(this,void 0,void 0,(function*(){const t=yield fetch(`/api/media?q=${e}&media_type=image&page=${n}`,{mode:"cors"}),i=yield t.json();r(i.data)}))})()}),[e,n]),s.default.createElement("div",null,s.default.createElement("div",null,s.default.createElement("label",null,"Search for something cool"),s.default.createElement("input",{type:"text",id:"input_search",onChange:e=>{return n=e.target.value,void t(n);var n}})),s.default.createElement(l,{currentPage:n,totalItems:a.total_hits,onNavigate:function(e){i(n+e)}}),s.default.createElement(c,{items:a.items}))}},5:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(a,r){function o(e){try{u(i.next(e))}catch(e){r(e)}}function s(e){try{u(i.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((i=i.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(167)),o=a(n(582)),s=a(n(860)),u=a(n(477)),l=n(127),c=s.default();l.SSRRoute(c);c.get("/api/media",o.default({origin:"*"}),((e,t)=>i(void 0,void 0,void 0,(function*(){try{const n=yield r.default.get(`https://images-api.nasa.gov/search?${u.default.encode(Object.assign(Object.assign({},e.query),{media_type:"image"}))}`),i=[];n.data.collection.items.forEach((e=>{var t;i.push(Object.assign(Object.assign({},e.data[0]),{thumbnail_href:e.links?null===(t=e.links.find((e=>"preview"===e.rel&&"image"===e.render)))||void 0===t?void 0:t.href:void 0}))})),t.json({data:{total_hits:n.data.collection.metadata.total_hits,items:i}})}catch(e){console.log(e),t.status(500).json({data:{error:"Something went wrong"}})}})))),c.listen(3001,(()=>{console.log("Server running on http://localhost:3001")}))},127:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SSRRoute=void 0;const a=i(n(860)),r=i(n(147)),o=i(n(17)),s=i(n(689)),u=i(n(684)),l=i(n(497));t.SSRRoute=function(e){const t=r.default.readFileSync(o.default.join(__dirname,"static/manifest.json"),"utf-8"),n=JSON.parse(t);e.set("view engine","ejs"),e.set("views",o.default.join(__dirname,"views")),e.use("/",a.default.static(o.default.join(__dirname,"static"))),e.get("/",((e,t)=>{const i=u.default.renderToString(s.default.createElement(l.default));t.render("client",{assets:n,component:i})}))}},167:e=>{"use strict";e.exports=require("axios")},582:e=>{"use strict";e.exports=require("cors")},860:e=>{"use strict";e.exports=require("express")},689:e=>{"use strict";e.exports=require("react")},684:e=>{"use strict";e.exports=require("react-dom/server")},147:e=>{"use strict";e.exports=require("fs")},17:e=>{"use strict";e.exports=require("path")},477:e=>{"use strict";e.exports=require("querystring")}},t={};!function n(i){var a=t[i];if(void 0!==a)return a.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}(5)})();